<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Installation · Scalafmt</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;You can use Scalafmt from your editor, build tool or terminal.&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Installation · Scalafmt"/><meta property="og:type" content="website"/><meta property="og:url" content="http://scalameta.org/scalafmt/index.html"/><meta property="og:description" content="&lt;p&gt;You can use Scalafmt from your editor, build tool or terminal.&lt;/p&gt;
"/><meta property="og:image" content="http://scalameta.org/scalafmt/img/scalameta-logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="http://scalameta.org/scalafmt/img/scalameta-logo.png"/><link rel="shortcut icon" href="/scalafmt/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"/><link rel="stylesheet" href="/scalafmt/css/code-blocks-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/scalafmt/js/code-blocks-buttons.js"></script><script type="text/javascript" src="/scalafmt/js/code-blocks-compare.js"></script><link rel="stylesheet" href="/scalafmt/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/scalafmt/"><h2 class="headerTitle">Scalafmt</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive siteNavItemActive"><a href="/scalafmt/docs/installation.html" target="_self">Docs</a></li><li class=""><a href="https://github.com/scalameta/scalafmt" target="_blank">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Documentation</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Documentation</h3><ul><li class="navListItem navListItemActive"><a class="navItem" href="/scalafmt/docs/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/scalafmt/docs/configuration.html">Configuration</a></li><li class="navListItem"><a class="navItem" href="/scalafmt/docs/gotchas.html">Gotchas</a></li><li class="navListItem"><a class="navItem" href="/scalafmt/docs/faq.html">FAQ / Troubleshooting</a></li><li class="navListItem"><a class="navItem" href="/scalafmt/docs/known-issues.html">Known Issues</a></li><li class="navListItem"><a class="navItem" href="/scalafmt/docs/changelog.html">Changelog</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Contributing</h3><ul><li class="navListItem"><a class="navItem" href="/scalafmt/docs/contributing-scalafmt.html">Contributing</a></li><li class="navListItem"><a class="navItem" href="/scalafmt/docs/contributing-website.html">Contributing to the website</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/scalameta/scalafmt/edit/master/docs/installation.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Installation</h1></header><article><div><span><p>You can use Scalafmt from your editor, build tool or terminal.</p>
<h2><a class="anchor" aria-hidden="true" id="intellij"></a><a href="#intellij" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>IntelliJ</h2>
<p>To install the
<a href="https://plugins.jetbrains.com/plugin/8236?pr=">Scalafmt IntelliJ plugin</a></p>
<ul>
<li>open <code>Preferences &gt; Plugins</code> (for Windows/Linux it is called <code>Settings</code>
instead of <code>Preferences</code>)</li>
<li>open <code>Browse repositories</code></li>
<li>search for <code>scalafmt</code></li>
<li>click &quot;Install&quot;</li>
<li>restart IntelliJ</li>
</ul>
<p><img src="/scalafmt/docs/assets/img/intellij-plugin.png" alt="Scalafmt IntelliJ Plugin"></p>
<h3><a class="anchor" aria-hidden="true" id="format-current-file"></a><a href="#format-current-file" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Format current file</h3>
<ul>
<li><code>Cmd + Shift + L</code> (macOS)</li>
<li><code>Ctrl + Shift + L</code> (other)</li>
</ul>
<p>To re-configure the shortcut</p>
<ul>
<li>Open <code>Preferences &gt; Keymap</code></li>
<li>Search for &quot;Reformat with scalafmt&quot;</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="format-on-save"></a><a href="#format-on-save" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Format on save</h3>
<ul>
<li>for the current project (recommended): <code>Preferences &gt; Tools &gt; Scalafmt</code></li>
<li>for all new project:
<code>File &gt; Other settings &gt; Preferences for new projects &gt; Tools &gt; Scalafmt</code></li>
</ul>
<p><img src="/scalafmt/docs/assets/img/intellij-on-save.png" alt="Enable format on save in IntelliJ"></p>
<h3><a class="anchor" aria-hidden="true" id="install-nightly-plugin"></a><a href="#install-nightly-plugin" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install nightly plugin</h3>
<p>To try out the latest pending releases for the Scalafmt plugin:</p>
<ul>
<li>Visit
<a href="https://plugins.jetbrains.com/plugin/8236-scalafmt">Scalafmt plugin page</a></li>
<li>Select &quot;nightly&quot;</li>
<li>Click &quot;Download&quot;</li>
<li>Open IntelliJ</li>
<li>Uninstall existing Scalafmt plugin installation, if any</li>
<li>Select <code>Preferences &gt; Plugins &gt; &quot;install plugin from disk...&quot;</code></li>
<li>Choose the downloaded <code>intellij-scalafmt.zip</code></li>
<li>Restart IntelliJ</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="continue-using-intellij-formatter"></a><a href="#continue-using-intellij-formatter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Continue using IntelliJ formatter</h3>
<p>When prompted whether to &quot;use scalafmt formatter&quot; make sure to select &quot;continue
using IntelliJ formatter&quot;</p>
<p><img src="/scalafmt/docs/assets/img/intellij-install.png" alt="IntelliJ scalafmt formatter"></p>
<p>As long as you have the Scalafmt plugin installed as instructed above you can
still <a href="#format-current-file">format current file</a> and
<a href="#format-on-save">format on save</a>.</p>
<p>It is not recommended to select &quot;use scalafmt formatter&quot; since the built-in
support provided by IntelliJ has limitations</p>
<ul>
<li>it is hardcoded against a single Scalafmt version (v1.5.1 at this time),
making it difficult to upgrade to new releases.</li>
<li>it enables undesirable behavior such as formatting expanded snippets (example:
&quot;implement methods&quot; inspection) with a low column width. Scalafmt is primarily
designed to format entire text files instead of individual snippets of code.</li>
</ul>
<p>To reset the formatter to IntelliJ for an existing project that uses the
Scalafmt formatter:</p>
<ul>
<li>Open <code>Preferences &gt; Editor &gt; Code Style &gt; Scala</code></li>
<li>Switch &quot;Formatter&quot; value to &quot;IntelliJ&quot;</li>
</ul>
<p>It is not possible to reset this setting for all existing projects.</p>
<h2><a class="anchor" aria-hidden="true" id="sbt"></a><a href="#sbt" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>sbt</h2>
<pre><code class="hljs css language-scala"><span class="hljs-comment">// In project/plugins.sbt. Note, does not support sbt 0.13, only sbt 1.0.</span>
addSbtPlugin(<span class="hljs-string">"org.scalameta"</span> % <span class="hljs-string">"sbt-scalafmt"</span> % <span class="hljs-string">"1.5.1"</span>)
</code></pre>
<p><a href="https://maven-badges.herokuapp.com/maven-central/org.scalameta/sbt-scalafmt"><img src="https://maven-badges.herokuapp.com/maven-central/org.scalameta/sbt-scalafmt/badge.svg" alt="Maven Central"></a></p>
<h3><a class="anchor" aria-hidden="true" id="task-keys"></a><a href="#task-keys" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Task keys</h3>
<ul>
<li><code>myproject/scalafmt</code>: Format main sources of <code>myproject</code> project</li>
<li><code>myproject/test:scalafmt</code>: Format test sources of <code>myproject</code> project</li>
<li><code>scalafmtCli</code>: Run the scalafmt command line interface.</li>
<li><code>scalafmtCheck</code>: Check if the scala sources under the project has been
formatted.</li>
<li><code>scalafmtSbt</code>: Format <code>*.sbt</code> and <code>project/*.scala</code> files.</li>
<li><code>scalafmtSbtCheck</code>: Check if the files has been formatted by <code>scalafmtSbt</code>.</li>
<li><code>scalafmtOnly</code>: Format a single given file.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="customize-configuration-location"></a><a href="#customize-configuration-location" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Customize configuration location</h3>
<ul>
<li><code>scalafmtConfig: Option[File]</code>: Optional location of <code>.scalafmt.conf</code> file. If
<code>None</code> the default config is used. By default, <code>.scalafmt.conf</code> file on the
project root will be used.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="format-on-compile"></a><a href="#format-on-compile" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Format on compile</h3>
<blockquote>
<p>⚠️ This option is <strong>discouraged</strong>, it is recommended to use &quot;format on save&quot;
in the editor instead.</p>
</blockquote>
<ul>
<li><code>scalafmtOnCompile: Boolean</code>: Defines if the sbt-scalafmt should run scalafmt
on compile. Default <code>false</code>.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="enable-integrationtest"></a><a href="#enable-integrationtest" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enable IntegrationTest</h3>
<p>The sbt plugin is enabled by default for the Test and Compile configurations.
Use <code>scalafmtConfigSettings</code> to enable the plugin for integration tests and then
use <code>it:scalafmt</code> to format.</p>
<pre><code class="hljs css language-scala">inConfig(<span class="hljs-type">IntegrationTest</span>)(org.scalafmt.sbt.<span class="hljs-type">ScalafmtPlugin</span>.scalafmtConfigSettings)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="share-configuration-between-builds"></a><a href="#share-configuration-between-builds" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Share configuration between builds</h3>
<p>To share configuration across different sbt builds, create a custom sbt plugin
that generates <code>.scalafmt.conf</code> on build reload.</p>
<pre><code class="hljs css language-scala"><span class="hljs-comment">// project/MyScalafmtPlugin.scala</span>
<span class="hljs-keyword">import</span> sbt._
<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">MyScalafmtPlugin</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AutoPlugin</span> </span>{
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">trigger</span> </span>= allRequirements
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">requires</span> </span>= plugins.<span class="hljs-type">JvmPlugin</span>
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">buildSettings</span></span>: <span class="hljs-type">Seq</span>[<span class="hljs-type">Def</span>.<span class="hljs-type">Setting</span>[_]] = {
    <span class="hljs-type">SettingKey</span>[<span class="hljs-type">Unit</span>](<span class="hljs-string">"scalafmtGenerateConfig"</span>) :=
      <span class="hljs-type">IO</span>.write(
        <span class="hljs-comment">// writes to file once when build is loaded</span>
        file(<span class="hljs-string">".scalafmt.conf"</span>),
        <span class="hljs-string">"maxColumn = 100"</span>.stripMargin.getBytes(<span class="hljs-string">"UTF-8"</span>)
      )
  }
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="cli"></a><a href="#cli" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CLI</h2>
<p>The recommended way to install the scalafmt command line tool is with
<a href="#coursier">Coursier</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="coursier"></a><a href="#coursier" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Coursier</h3>
<div class="sidenote">
To install Coursier see <a href="https://github.com/coursier/coursier#command-line" target="_blank">here</a>
</div>
<p>Create a standalone executable in <code>/usr/local/bin/scalafmt</code> with (sudo if
necessary):</p>
<pre><code class="hljs css language-sh">coursier bootstrap org.scalameta:scalafmt-cli_2.12:1.5.1 \
  -r bintray:scalameta/maven \
  -o /usr/<span class="hljs-built_in">local</span>/bin/scalafmt --standalone --main org.scalafmt.cli.Cli
scalafmt --version <span class="hljs-comment"># should be 1.5.1</span>
</code></pre>
<p>Alternatively you can create a slim 15 KiB bootstrap script with:</p>
<pre><code class="hljs css language-sh">coursier bootstrap org.scalameta:scalafmt-cli_2.12:1.5.1 \
  -r bintray:scalameta/maven \
  -o scalafmt --main org.scalafmt.cli.Cli
./scalafmt --version <span class="hljs-comment"># should be 1.5.1</span>
</code></pre>
<p>It is <strong>recommended</strong> to put this bootstrap script in your code repository to
make sure everyone on your team, as well as CI, uses the same scalafmt version.
To configure which files to format, see <a href="/scalafmt/docs/configuration.html#project">project</a>.</p>
<p>To customize the JVM options, use the Coursier option <code>--java-opt</code>, more info
with</p>
<pre><code class="hljs css language-sh">coursier bootstrap --<span class="hljs-built_in">help</span> | grep -A 1 <span class="hljs-string">"\-\-java-opt"</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="pre-release"></a><a href="#pre-release" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pre-release</h3>
<p>Our CI publishes a pre-release version of scalafmt to Bintray on every merge
into master. To use a pre-release, replace 1.5.1 with the version
here:</p>
<p><a href='https://bintray.com/scalameta/maven/scalafmt-cli/_latestVersion'>
<img src='https://api.bintray.com/packages/scalameta/maven/scalafmt-cli/images/download.svg'>
</a></p>
<p>If you use coursier to install a pre-release, be sure to include the flag -r
bintray:scalameta/maven so that the artifact can be resolved.</p>
<p>If you use sbt to install a pre-release, be sure to add the following setting</p>
<pre><code class="hljs css language-scala">resolvers += <span class="hljs-type">Resolver</span>.bintrayRepo(<span class="hljs-string">"scalameta"</span>, <span class="hljs-string">"maven"</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="nailgun"></a><a href="#nailgun" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nailgun</h3>
<p>Nailgun is recommended if you want to integrate scalafmt with a text editor like
vim/Emacs/Atom/Sublime/VS Code.</p>
<ul>
<li>Make sure you have a nailgun client installed. For example with
<code>brew install nailgun</code>.</li>
<li>Create a standalone executable in <code>/usr/local/bin/scalafmt_ng</code> with (sudo if
necessary)</li>
</ul>
<pre><code class="hljs css language-sh">coursier bootstrap --standalone org.scalameta:scalafmt-cli_2.12:1.5.1 \
  -r bintray:scalameta/maven \
  -o /usr/<span class="hljs-built_in">local</span>/bin/scalafmt_ng -f --main com.martiansoftware.nailgun.NGServer
scalafmt_ng &amp; // start nailgun <span class="hljs-keyword">in</span> background
ng ng-alias scalafmt org.scalafmt.cli.Cli
ng scalafmt --version <span class="hljs-comment"># should be 1.5.1</span>
</code></pre>
<p>Nailgun keeps scalafmt running on a local server to avoid the JVM startup
penalty and also so scalafmt can benefit from JIT. This makes scalafmt up to 10x
faster when formatting a single file from the CLI. The downside to Nailgun is
that the setup is complicated and the long-running server needs to be restarted
once in awhile.</p>
<h3><a class="anchor" aria-hidden="true" id="homebrew"></a><a href="#homebrew" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Homebrew</h3>
<p>You can install scalafmt via Homebrew using a custom formula</p>
<pre><code class="hljs css language-sh">brew install --HEAD olafurpg/scalafmt/scalafmt
scalafmt --version // should be 1.5.1

// to upgrade between releases
brew upgrade scalafmt
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="help"></a><a href="#help" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>--help</h3>
<pre><code class="hljs">build commit: <span class="hljs-number">7</span>bafde67831ddcaff02da3d410774b6702887d30
build time: Mon Jan <span class="hljs-number">07</span> <span class="hljs-number">17</span>:<span class="hljs-number">44</span>:<span class="hljs-number">11</span> UTC <span class="hljs-number">2019</span>
</code></pre>
<pre><code class="hljs">scalafmt 2.0.0-RC2+1-7bafde67-SNAPSHOT
Usage: scalafmt [options] [&lt;<span class="hljs-keyword">file</span>&gt;...]

  -<span class="hljs-keyword">h</span>, --<span class="hljs-keyword">help</span>               prints this usage text
  -v, --<span class="hljs-keyword">version</span>            <span class="hljs-keyword">print</span> <span class="hljs-keyword">version</span> 
  &lt;<span class="hljs-keyword">file</span>&gt;...                <span class="hljs-keyword">file</span> or directory, <span class="hljs-keyword">in</span> <span class="hljs-keyword">which</span> case all *.<span class="hljs-keyword">scala</span> files are formatted.
  --stdout                 write formatted files to stdout
  --git &lt;value&gt;            <span class="hljs-keyword">if</span> true, ignore files <span class="hljs-keyword">in</span> .gitignore (default false)
  --exclude &lt;value&gt;        <span class="hljs-keyword">file</span> or directory, <span class="hljs-keyword">in</span> <span class="hljs-keyword">which</span> case all *.<span class="hljs-keyword">scala</span> files are formatted.
  -c, --config &lt;value&gt;     a <span class="hljs-keyword">file</span> path to .scalafmt.<span class="hljs-keyword">conf</span>.
  --config-str &lt;value&gt;     configuration defined <span class="hljs-keyword">as</span> a <span class="hljs-built_in">string</span>
  --stdin                  <span class="hljs-keyword">read</span> from stdin and <span class="hljs-keyword">print</span> to stdout
  --<span class="hljs-keyword">no</span>-stderr              don't <span class="hljs-keyword">use</span> strerr <span class="hljs-keyword">for</span> messages, output to stdout
  --assume-filename &lt;value&gt;
                           when using --stdin, <span class="hljs-keyword">use</span> --assume-filename to hint to scalafmt that the <span class="hljs-keyword">input</span> is <span class="hljs-keyword">an</span> .sbt <span class="hljs-keyword">file</span>.
  --<span class="hljs-keyword">test</span>                   <span class="hljs-keyword">test</span> <span class="hljs-keyword">for</span> mis-formatted code, exits with status 1 <span class="hljs-keyword">on</span> failure.
  --migrate2hocon &lt;value&gt;  migrate .scalafmt <span class="hljs-keyword">CLI</span> style configuration to hocon style configuration <span class="hljs-keyword">in</span> .scalafmt.<span class="hljs-keyword">conf</span>
  --diff                   <span class="hljs-keyword">If</span> <span class="hljs-keyword">set</span>, only <span class="hljs-keyword">format</span> edited files <span class="hljs-keyword">in</span> git diff against master.
  --diff-branch &lt;value&gt;    <span class="hljs-keyword">If</span> <span class="hljs-keyword">set</span>, only <span class="hljs-keyword">format</span> edited files <span class="hljs-keyword">in</span> git diff against provided branch.
  --build-info             prints build information
  --quiet                  don't <span class="hljs-keyword">print</span> <span class="hljs-keyword">out</span> stuff to console.
  --debug                  <span class="hljs-keyword">print</span> <span class="hljs-keyword">out</span> diagnostics to console.
  --non-interactive        disable fancy progress bar, useful <span class="hljs-keyword">in</span> <span class="hljs-keyword">ci</span> or sbt <span class="hljs-keyword">plugin</span>.
Examples:
scalafmt # <span class="hljs-keyword">Format</span> all files <span class="hljs-keyword">in</span> the current project, configuration is determined <span class="hljs-keyword">in</span> this <span class="hljs-keyword">order</span>:
         # 1. .scalafmt.<span class="hljs-keyword">conf</span> <span class="hljs-keyword">file</span> <span class="hljs-keyword">in</span> current directory
         # 2. .scalafmt.<span class="hljs-keyword">conf</span> inside root directory of current git repo
         # 3. <span class="hljs-keyword">no</span> configuration, default style
scalafmt --<span class="hljs-keyword">test</span> # throw exception <span class="hljs-keyword">on</span> mis-formatted files, won't write to files.
scalafmt --diff # <span class="hljs-keyword">Format</span> all files that were edited <span class="hljs-keyword">in</span> git diff against master branch.
scalafmt --diff-branch 2.x # same <span class="hljs-keyword">as</span> --diff, except against branch 2.x
scalafmt --stdin # <span class="hljs-keyword">read</span> from stdin and <span class="hljs-keyword">print</span> to stdout
scalafmt --stdin --assume-filename foo.sbt &lt; foo.sbt # required when using --stdin to <span class="hljs-keyword">format</span> .sbt files.
scalafmt Code1.<span class="hljs-keyword">scala</span> A.<span class="hljs-keyword">scala</span>       # write formatted contents to <span class="hljs-keyword">file</span>.
scalafmt --stdout Code.<span class="hljs-keyword">scala</span>       # <span class="hljs-keyword">print</span> formatted contents to stdout.
scalafmt --exclude target          # <span class="hljs-keyword">format</span> all files <span class="hljs-keyword">in</span> directory excluding target
scalafmt --config .scalafmt.<span class="hljs-keyword">conf</span>   # <span class="hljs-keyword">read</span> custom style from <span class="hljs-keyword">file</span>
scalafmt --config-str <span class="hljs-string">"style=IntelliJ"</span> # define custom style <span class="hljs-keyword">as</span> a flag, must be quoted.
Please <span class="hljs-keyword">file</span> bugs to https:<span class="hljs-comment">//github.com/scalameta/scalafmt/issues</span>
      
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="gradle"></a><a href="#gradle" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gradle</h2>
<p>It is possible to use scalafmt in gradle with the following externally
maintained plugins:</p>
<ul>
<li><a href="https://github.com/diffplug/spotless/tree/master/plugin-gradle#applying-scalafmt-to-scala-files">Spotless</a></li>
<li><a href="https://github.com/alenkacz/gradle-scalafmt">gradle-scalafmt</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="maven"></a><a href="#maven" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Maven</h2>
<p>It is possible to use scalafmt in Maven with the following externally maintained
plugin:</p>
<ul>
<li><a href="https://github.com/SimonJPegg/mvn_scalafmt">mvn_scalafmt</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="mill"></a><a href="#mill" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mill</h2>
<p>Mill have scalafmt support built-in:</p>
<ul>
<li><a href="http://www.lihaoyi.com/mill/page/configuring-mill.html#reformatting-your-code">scalafmt module</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="vim"></a><a href="#vim" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Vim</h2>
<ul>
<li>Make sure you have the <a href="#cli">CLI</a> installed and working.</li>
<li>install <a href="https://github.com/Chiel92/vim-autoformat">vim-autoformat</a></li>
<li>add to your <code>.vimrc</code></li>
</ul>
<pre><code class="hljs"><span class="hljs-keyword">noremap</span> <span class="hljs-symbol">&lt;F5&gt;</span> :Autoformat<span class="hljs-symbol">&lt;CR&gt;</span>
<span class="hljs-keyword">let</span> <span class="hljs-variable">g:formatdef_scalafmt</span> = <span class="hljs-string">"'scalafmt --stdin'"</span>
<span class="hljs-keyword">let</span> <span class="hljs-variable">g:formatters_scala</span> = [<span class="hljs-string">'scalafmt'</span>]
</code></pre>
<div class="sidenote">
You pay the JVM startup penalty on every format unless you're using
<a href="#nailgun">Nailgun</a>.
</div>
<h2><a class="anchor" aria-hidden="true" id="standalone-library"></a><a href="#standalone-library" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Standalone library</h2>
<p>Use the <code>scalafmt-dynamic</code> module to integrate with Scalafmt.</p>
<pre><code class="hljs css language-scala">libraryDependencies += <span class="hljs-string">"org.scalameta"</span> %% <span class="hljs-string">"scalafmt-dynamic"</span> % <span class="hljs-string">"1.5.1"</span>
</code></pre>
<p>First, create an instance of <code>Scalafmt</code> and get paths for the file to format
along with it's configuration file.</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> java.nio.file._
<span class="hljs-keyword">import</span> org.scalafmt.interfaces.<span class="hljs-type">Scalafmt</span>
<span class="hljs-keyword">val</span> scalafmt = <span class="hljs-type">Scalafmt</span>.create(<span class="hljs-keyword">this</span>.getClass.getClassLoader)
<span class="hljs-keyword">val</span> config = <span class="hljs-type">Paths</span>.get(<span class="hljs-string">".scalafmt.conf"</span>)
<span class="hljs-keyword">val</span> file = <span class="hljs-type">Paths</span>.get(<span class="hljs-string">"Main.scala"</span>)
</code></pre>
<p>Use the <code>format</code> method to format a string with the given config and filename.</p>
<pre><code class="hljs css language-scala">println(scalafmt.format(config, file, <span class="hljs-string">"object A  {  }"</span>))
<span class="hljs-comment">// object A {}</span>
<span class="hljs-comment">//</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="binary-compatibility-guarantees"></a><a href="#binary-compatibility-guarantees" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Binary compatibility guarantees</h3>
<p>Stable public APIs:</p>
<ul>
<li><code>org.scalafmt.interfaces</code> (recommended): pure Java APIs with no external
dependencies. Can be loaded via the <code>scalafmt-dynamic</code> module.</li>
<li><code>org.scalafmt.Scalafmt</code> (discouraged): old public API that is stable and will
remain stable but has several limitations.
<ul>
<li>no support for <code>version</code> in <code>.scalafmt.conf</code></li>
<li>does not respect <code>project.excludeFilters</code> in <code>.scalafmt.conf</code></li>
<li>doesn't automatically handle <code>*.sbt</code> and <code>*.sc</code> files</li>
<li>no caching of <code>.scalafmt.conf</code></li>
</ul></li>
</ul>
<p>Internal APIs that are subject to binary breaking changes in any release:</p>
<ul>
<li><code>org.scalafmt.dynamic</code>: private implementation of <code>scalafmt-interfaces</code>. These
classes can be used via the static method
<code>org.scalafmt.interfaces.Scalafmt.create(ClassLoader)</code>.</li>
<li><code>org.scalafmt.config</code>: case classes for <code>.scalafmt.conf</code> configuration that
that are only intended for internal usage.</li>
<li><code>org.scalafmt.cli</code>: private implementation of the command-line interface.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="sbt-and-sc-files"></a><a href="#sbt-and-sc-files" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>*.sbt</code> and <code>*.sc</code> files</h3>
<p>It's possible to format <code>*.sbt</code> and <code>*.sc</code> files.</p>
<pre><code class="hljs css language-scala">println(scalafmt.format(config, <span class="hljs-type">Paths</span>.get(<span class="hljs-string">"build.sbt"</span>), <span class="hljs-string">"lazy    val   x =   project"</span>))
<span class="hljs-comment">// lazy val x = project</span>
<span class="hljs-comment">// </span>
println(scalafmt.format(config, <span class="hljs-type">Paths</span>.get(<span class="hljs-string">"build.sc"</span>), <span class="hljs-string">"def  main(  ) = println()"</span>))
<span class="hljs-comment">// def main() = println()</span>
<span class="hljs-comment">//</span>
</code></pre>
<p>The <code>scalafmt</code> instance automatically picks the correct parser depending on the
provided filename.</p>
<h3><a class="anchor" aria-hidden="true" id="version-handling"></a><a href="#version-handling" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Version handling</h3>
<p>By default, the <code>scalafmt</code> instance automatically downloads the Scalafmt version
declared in <code>.scalafmt.conf</code>. If the <code>version</code> setting is not declared, the
original file contents are returned unchanged and an error is reported with
instructions how to fix the problem.</p>
<p>Use <code>withRespectVersion(false)</code> to fall back to a default Scalafmt version when
its not declared in <code>.scalafmt.conf</code>. Use <code>withDefaultVersion(version)</code> to
customize the fallback version.</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">val</span> scalafmtThatDoesntRequireVersionSetting = scalafmt
  .withRespectVersion(<span class="hljs-literal">false</span>)
  .withDefaultVersion(<span class="hljs-string">"1.6.0-RC4"</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="error-reporting"></a><a href="#error-reporting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error reporting</h3>
<p>By default, Scalafmt errors are reported to <code>System.err</code>. Extend
<code>org.scalafmt.interfaces.ScalafmtReporter</code> to customize error reporting to
handle parse and config errors.</p>
<p>Here is an example how to extend <code>ScalafmtReporter</code>.</p>
<p>File: <a href="https://github.com/scalameta/mdoc/blob/master/scalafmt-dynamic/src/main/scala/org/scalafmt/dynamic/ConsoleScalafmtReporter.scala">ConsoleScalafmtReporter.scala</a></p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">package</span> org.scalafmt.dynamic

<span class="hljs-keyword">import</span> java.io.<span class="hljs-type">PrintStream</span>
<span class="hljs-keyword">import</span> java.io.<span class="hljs-type">PrintWriter</span>
<span class="hljs-keyword">import</span> java.nio.file.<span class="hljs-type">Path</span>
<span class="hljs-keyword">import</span> org.scalafmt.interfaces.<span class="hljs-type">ScalafmtReporter</span>

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">ConsoleScalafmtReporter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ConsoleScalafmtReporter</span>(<span class="hljs-params"><span class="hljs-type">System</span>.err</span>)</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConsoleScalafmtReporter</span>(<span class="hljs-params">out: <span class="hljs-type">PrintStream</span></span>) <span class="hljs-keyword">extends</span> <span class="hljs-title">ScalafmtReporter</span> </span>{
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">downloadWriter</span></span>(): <span class="hljs-type">PrintWriter</span> = <span class="hljs-keyword">new</span> <span class="hljs-type">PrintWriter</span>(out)
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">trimStacktrace</span></span>(e: <span class="hljs-type">Throwable</span>): <span class="hljs-type">Unit</span> = ()
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">excluded</span></span>(filename: <span class="hljs-type">Path</span>): <span class="hljs-type">Unit</span> = {
    out.println(<span class="hljs-string">s"file excluded: <span class="hljs-subst">$filename</span>"</span>)
  }
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">error</span></span>(file: <span class="hljs-type">Path</span>, e: <span class="hljs-type">Throwable</span>): <span class="hljs-type">Unit</span> = {
    out.print(<span class="hljs-string">s"error: <span class="hljs-subst">$file</span>: "</span>)
    trimStacktrace(e)
    e.printStackTrace(out)
  }
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">error</span></span>(path: <span class="hljs-type">Path</span>, message: <span class="hljs-type">String</span>): <span class="hljs-type">Unit</span> = {
    out.println(<span class="hljs-string">s"error: <span class="hljs-subst">$path</span>: <span class="hljs-subst">$message</span>"</span>)
  }

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parsedConfig</span></span>(config: <span class="hljs-type">Path</span>, scalafmtVersion: <span class="hljs-type">String</span>): <span class="hljs-type">Unit</span> = {
    out.println(<span class="hljs-string">s"parsed config (v<span class="hljs-subst">$scalafmtVersion</span>): <span class="hljs-subst">$config</span>"</span>)
  }
}
</code></pre>
<p>Use <code>withReporter(reporter)</code> to pass in your custom reporter.</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">import</span> java.io._
<span class="hljs-keyword">import</span> org.scalafmt.dynamic._
<span class="hljs-keyword">val</span> myOut = <span class="hljs-keyword">new</span> <span class="hljs-type">ByteArrayOutputStream</span>()
<span class="hljs-keyword">val</span> myReporter = <span class="hljs-keyword">new</span> <span class="hljs-type">ConsoleScalafmtReporter</span>(<span class="hljs-keyword">new</span> <span class="hljs-type">PrintStream</span>(myOut))
<span class="hljs-keyword">val</span> customReporterScalafmt = scalafmt.withReporter(myReporter)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="project-filters"></a><a href="#project-filters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Project filters</h3>
<p>By default, <code>scalafmt</code> only formats files that match the
<code>project.{excludeFilters,includeFilters}</code> settings in <code>.scalafmt.conf</code>. Use
<code>withRespectExcludeFilters(false)</code> to disable this behavior.</p>
<pre><code class="hljs css language-scala"><span class="hljs-keyword">val</span> scalafmtThatIgnoresProjectSettings = scalafmt.withRespectProjectFilters(<span class="hljs-literal">false</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="clearing-resources"></a><a href="#clearing-resources" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Clearing resources</h3>
<p>Use the <code>clear()</code> method to clear up resources of the <code>scalafmt</code> instance.</p>
<pre><code class="hljs css language-scala">scalafmt.clear()
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="calling-from-java"></a><a href="#calling-from-java" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Calling from Java</h3>
<p>It's possible to call Scalafmt from Java without depending directly on Scala
libraries.</p>
<p>First, depend on the <code>scalafmt-interfaces</code> module, which is a pure Java library
with no external dependencies.</p>
<pre><code class="hljs css language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.scalameta<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>scalafmt-interfaces<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.5.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>Next, obtain a classloader with the <code>scalafmt-dynamic_2.12</code> classpath.</p>
<pre><code class="hljs css language-java"><span class="hljs-keyword">import</span> java.net.URLClassLoader;
<span class="hljs-comment">// this package contains only Java APIs.</span>
<span class="hljs-keyword">import</span> org.scalafmt.interfaces.*;

<span class="hljs-comment">// ClassLoader that shares only org.scalafmt.interfaces from this classloader.</span>
ClassLoader sharedParent = <span class="hljs-keyword">new</span> ScalafmtClassLoader(<span class="hljs-keyword">this</span>.getClass.getClassLoader)

<span class="hljs-comment">// Jars to org.scalameta:scalafmt-dynamic_2.12:1.5.1 classpath. Obtain</span>
<span class="hljs-comment">// these from your build tool or programmatically with ivy/coursier.</span>
URL[] jars = <span class="hljs-comment">// ...</span>
ClassLoader scalafmtDynamic = <span class="hljs-keyword">new</span> URLClassLoader(jars, sharedParent)
</code></pre>
<p>Finally, create an instance of <code>Scalafmt</code> with the <code>scalafmt-dynamic</code>
classloader.</p>
<pre><code class="hljs css language-java">Scalafmt scalafmt = Scalafmt.create(scalafmtDynamic)
String formatted = scalafmt.format(config, file, <span class="hljs-string">"object A   { }"</span>)
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-next button" href="/scalafmt/docs/configuration.html"><span>Configuration</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#intellij">IntelliJ</a><ul class="toc-headings"><li><a href="#format-current-file">Format current file</a></li><li><a href="#format-on-save">Format on save</a></li><li><a href="#install-nightly-plugin">Install nightly plugin</a></li><li><a href="#continue-using-intellij-formatter">Continue using IntelliJ formatter</a></li></ul></li><li><a href="#sbt">sbt</a><ul class="toc-headings"><li><a href="#task-keys">Task keys</a></li><li><a href="#customize-configuration-location">Customize configuration location</a></li><li><a href="#format-on-compile">Format on compile</a></li><li><a href="#enable-integrationtest">Enable IntegrationTest</a></li><li><a href="#share-configuration-between-builds">Share configuration between builds</a></li></ul></li><li><a href="#cli">CLI</a><ul class="toc-headings"><li><a href="#coursier">Coursier</a></li><li><a href="#pre-release">Pre-release</a></li><li><a href="#nailgun">Nailgun</a></li><li><a href="#homebrew">Homebrew</a></li><li><a href="#help">--help</a></li></ul></li><li><a href="#gradle">Gradle</a></li><li><a href="#maven">Maven</a></li><li><a href="#mill">Mill</a></li><li><a href="#vim">Vim</a></li><li><a href="#standalone-library">Standalone library</a><ul class="toc-headings"><li><a href="#binary-compatibility-guarantees">Binary compatibility guarantees</a></li><li><a href="#sbt-and-sc-files"><code>*.sbt</code> and <code>*.sc</code> files</a></li><li><a href="#version-handling">Version handling</a></li><li><a href="#error-reporting">Error reporting</a></li><li><a href="#project-filters">Project filters</a></li><li><a href="#clearing-resources">Clearing resources</a></li><li><a href="#calling-from-java">Calling from Java</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer" style="background-color:#A23244"><section class="sitemap"><div><h5>Docs</h5><a href="
                /scalafmt/docs/installation.html">Installation</a><a href="
                /scalafmt/docs/configuration.html">Configuration</a><a href="
                /scalafmt/docs/contributing-scalafmt.html">Contributing</a></div><div><h5>Community</h5><a href="https://gitter.im/scalameta/scalafmt" target="_blank">Chat on Gitter</a></div><div><h5>More</h5><a href="https://github.com/scalameta/scalafmt" target="_blank">GitHub</a></div></section><section class="copyright">Copyright © 2019 Scalafmt</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '3409ffc8eadf85381f1b8cca926b07c4',
                indexName: 'scalafmt',
                inputSelector: '#search_input_react'
              });
            </script></body></html>